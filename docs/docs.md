<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# backend\-go

```go
import "github.com/musaubrian/backend-go"
```

## Index



# models

```go
import "github.com/musaubrian/backend-go/models"
```

package models defines the model structure of how the data will be stored in the database

## Index

- [func CreateLink(link TinyUrl) error](<#func-createlink>)
- [func Setup()](<#func-setup>)
- [func UpdateClick(link TinyUrl) error](<#func-updateclick>)
- [type TinyUrl](<#type-tinyurl>)
  - [func FindByUrl(url string) (TinyUrl, error)](<#func-findbyurl>)
  - [func GetAllLinks() ([]TinyUrl, error)](<#func-getalllinks>)
  - [func GetLink(id uint64) (TinyUrl, error)](<#func-getlink>)


## func [CreateLink](<https://github.com/musaubrian/backend-go/blob/main/models/tinyUrl.go#L36>)

```go
func CreateLink(link TinyUrl) error
```

CreateLink\(\) adds a new generatedUrl to the database returns tx.Error

## func [Setup](<https://github.com/musaubrian/backend-go/blob/main/models/model.go#L27>)

```go
func Setup()
```

Setup\(\) sets up the connection to the database and initializes the structure \(table name and columns\)

## func [UpdateClick](<https://github.com/musaubrian/backend-go/blob/main/models/tinyUrl.go#L44>)

```go
func UpdateClick(link TinyUrl) error
```

UpdateClick updates counter when a redirectUrl is used returns tx.Error

## type [TinyUrl](<https://github.com/musaubrian/backend-go/blob/main/models/model.go#L18-L23>)

TinyUrl defines the structure of how the data will be stored in the database

```go
type TinyUrl struct {
    ID                  uint64 `json:"id" gorm:"primaryKey"`
    RedirectUrl         string `json:"redirectUrl" gorm:"not null"`
    ShortUrl            string `json:"url" gorm:"not null"`
    SuccessfulRedirects uint64 `json:"successfulRedirects"`
}
```

### func [FindByUrl](<https://github.com/musaubrian/backend-go/blob/main/models/tinyUrl.go#L52>)

```go
func FindByUrl(url string) (TinyUrl, error)
```

FindByUrl\(\) returns the redirectUrl and tx.Error searches for the redirectUrl using the generatedurl

### func [GetAllLinks](<https://github.com/musaubrian/backend-go/blob/main/models/tinyUrl.go#L8>)

```go
func GetAllLinks() ([]TinyUrl, error)
```

GetAllLinks\(\) returns all the data stored in the database The returned data contains the url to be redirected to and the generated url

### func [GetLink](<https://github.com/musaubrian/backend-go/blob/main/models/tinyUrl.go#L22>)

```go
func GetLink(id uint64) (TinyUrl, error)
```

GetLink\(\) returns a single link\{the redirectUrl, the generatedurl\} from the id

# server

```go
import "github.com/musaubrian/backend-go/server"
```

Package server handles the server setup and routes

## Index

- [func SetupAndListen()](<#func-setupandlisten>)


## func [SetupAndListen](<https://github.com/musaubrian/backend-go/blob/main/server/server.go#L84>)

```go
func SetupAndListen()
```

Starts the server and listens for requests on the routes specified

# utils

```go
import "github.com/musaubrian/backend-go/utils"
```

Package utils holds the GenerateUrl function

## Index

- [func GenerateUrl() string](<#func-generateurl>)


## func [GenerateUrl](<https://github.com/musaubrian/backend-go/blob/main/utils/generateUrl.go#L11>)

```go
func GenerateUrl() string
```

Returns a 4 characters string This will be used to redirect to the actual url



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
